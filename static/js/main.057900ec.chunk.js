(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{198:function(e,t,a){},248:function(e,t,a){e.exports=a(349)},253:function(e,t,a){},255:function(e,t,a){},332:function(e,t,a){},349:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(72),s=a.n(o),c=(a(253),a(136)),i=a(36),l=a(18),u=a(19),m=a(22),d=a(20),p=a(21),h=a(5),f=(a(255),a(88)),b=a(236),v=a(113),y=a(235),j=a(25),g=Object(j.a)(),E=a(247),O=a(111),T=a(258),S=a(87);function k(e){var t=e.id,a=e.label,r=Object(E.a)(e,["id","label"]);return n.createElement(O.a.Group,{controlId:t},n.createElement(O.a.Label,null,a),n.createElement(T.a,r))}var C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).fileChange=a.fileChange.bind(Object(h.a)(Object(h.a)(a))),a.onLoadTourney=a.onLoadTourney.bind(Object(h.a)(Object(h.a)(a))),a.state={fileName:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"fileChange",value:function(e){this.setState({fileName:e.target.value,file:e.target.files[0]})}},{key:"onLoadTourney",value:function(e){if(e.preventDefault(),""!==this.state.file&&this.state.file){var t=this.state.file,a=new FileReader,n=this.props.loadTourney;a.onload=function(e){n(e.target.result)},a.readAsText(t)}}},{key:"render",value:function(){return n.createElement(O.a,{className:"border border-primary p-3",onSubmit:this.onLoadTourney},n.createElement("h2",{className:"border-bottom mb-3"},"Wczytaj istniej\u0105cy turniej"),n.createElement(O.a.Group,{controlId:"formBasicText"},n.createElement(k,{type:"file",label:"Wybierz plik z zapisanym turniejem",value:this.state.fileName,onChange:this.fileChange})),n.createElement(S.a,{type:"submit"},"Wczytaj"))}}]),t}(n.Component),N=a(350),w=a(179),R=function(){return n.createElement(N.a,{className:"d-flex"},n.createElement(w.LinkContainer,{to:"/tourney/new"},n.createElement(S.a,{variant:"primary"},"Swt\xf3rz nowy turniej")),n.createElement(w.LinkContainer,{to:"/tourney/load"},n.createElement(S.a,{variant:"primary"},"Wczytaj turniej")))},L=a(351),A=a(184),G=a(112),M={paddingBottom:"9px",margin:"40px 0 20px",borderBottom:"1px solid #eee"},P={display:"inline"},W=function(){return n.createElement("div",{style:M},n.createElement("h1",{style:P},"Volleyball Tournament App+"),n.createElement("span",{className:"float-right pt-3"},n.createElement("small",null,n.createElement("i",null,n.createElement("b",null,"Sapporo")," ","0.1.0"))))};var I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=e.Content;return function(e){function o(){return Object(l.a)(this,o),Object(m.a)(this,Object(d.a)(o).apply(this,arguments))}return Object(p.a)(o,e),Object(u.a)(o,[{key:"render",value:function(){return r.a.createElement(L.a,null,r.a.createElement(A.a,null,r.a.createElement(G.a,{md:{span:8,offset:2}},r.a.createElement(W,null))),r.a.createElement(A.a,null,r.a.createElement(G.a,{md:{span:t,offset:a}},r.a.createElement(n,this.props))))}}]),o}(r.a.Component)},z=function(e){function t(e,a){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).handleChange=n.handleChange.bind(Object(h.a)(Object(h.a)(n))),n.handleTourneyCreation=n.handleTourneyCreation.bind(Object(h.a)(Object(h.a)(n))),n.state={value:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleTourneyCreation",value:function(){var e=this;return function(t){t.preventDefault(),e.state.value&&e.state.value.trim()&&e.props.createNewTourney(e.state.value)}}},{key:"render",value:function(){return n.createElement(O.a,{className:"border border-primary p-3",onSubmit:this.handleTourneyCreation()},n.createElement("h2",null,"Stw\xf3rz nowy turniej"),n.createElement(O.a.Group,{controlId:"formBasicText"},n.createElement(O.a.Label,null,"Podaj nazw\u0119 turniej"),n.createElement(O.a.Control,{type:"text",value:this.state.value,placeholder:"Ma\u0142opolski turniej siatk\xf3wki amatorskiej ",onChange:this.handleChange})),n.createElement("div",null,n.createElement(S.a,{type:"submit"},"Stw\xf3rz")))}}]),t}(n.Component),x=a(257),D=a(117),F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).addTeam=a.addTeam.bind(Object(h.a)(Object(h.a)(a))),a.newTeamNameChange=a.newTeamNameChange.bind(Object(h.a)(Object(h.a)(a))),a.teamAdded=a.teamAdded.bind(Object(h.a)(Object(h.a)(a))),a.newTeamOnEnter=a.newTeamOnEnter.bind(Object(h.a)(Object(h.a)(a))),a.state={newTeamName:"",teamNameWarning:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"newTeamNameChange",value:function(e){this.setState({newTeamName:e.target.value})}},{key:"teamAdded",value:function(){var e=this.state.newTeamName;e&&0!==e.trim().length&&(this.props.teams.includes(e)||(this.props.teamAdded(this.props.groupLetter,this.state.newTeamName),this.setState({newTeamName:""})))}},{key:"newTeamOnEnter",value:function(e){"Enter"===e.key&&(e.preventDefault(),this.teamAdded())}},{key:"addTeam",value:function(){return n.createElement("div",null,n.createElement(T.a,{value:this.state.newTeamName,className:"mb-2",key:"newItem",onChange:this.newTeamNameChange,onKeyPress:this.newTeamOnEnter}),n.createElement(S.a,{onClick:this.teamAdded},n.createElement(D.a,null),n.createElement("span",null,"Dodaj dru\u017cyn\u0119")))}},{key:"render",value:function(){var e=this.props,t=e.groupLetter,a=e.teams,r=e.teamAdded;return n.createElement("div",null,n.createElement("h2",null,"Grupa ",t),n.createElement(O.a,null,n.createElement(x.a,null,function(e){return e.map(function(e){return function(e){return n.createElement(T.a,{readOnly:!0,style:{marginBottom:"10px"},key:e,value:e})}(e)})}(a),a&&a.length<8&&this.addTeam(t,r))))}}]),t}(n.Component);F.defaultProps={groupLetter:"A",groups:[],teamAdded:function(){return null}};var B=F,K=function(e){var t=e.tourneyName;return r.a.createElement("h3",{className:"pb-3"},t)};var J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).approveGroups=a.approveGroups.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"approveGroups",value:function(){this.props.approveGroups()}},{key:"render",value:function(){var e,t=this.props,a=t.groups,n=t.teamAdded,o=t.tourneyName,s=a.length;return r.a.createElement(L.a,null,r.a.createElement(A.a,null,r.a.createElement(G.a,{md:{span:8,offset:2}},r.a.createElement(W,null))),r.a.createElement(A.a,null,r.a.createElement(G.a,{md:{span:8}},r.a.createElement(K,{tourneyName:o}))),r.a.createElement(A.a,null,function(e,t){return e.map(function(e){return r.a.createElement(G.a,{key:e.groupLetter,sm:3},r.a.createElement(B,{groupLetter:e.groupLetter,teams:e.teams,teamAdded:t}))})}(a,n),s<8&&(e=this.props.addGroup,r.a.createElement(G.a,{sm:3},r.a.createElement(S.a,{className:"mb-3",onClick:e},r.a.createElement(D.a,null),r.a.createElement("span",null,"Dodaj grup\u0119"))))),r.a.createElement(A.a,null,r.a.createElement(G.a,{md:3},r.a.createElement(S.a,{block:!0,onClick:this.approveGroups},"Zatwierd\u017a grupy"))))}}]),t}(r.a.Component);B.defaultProps={tourneyName:"Turniej",groups:[],addGroup:function(){return null},approveGroups:function(){return null}};var Z=J,H=a(353),$=a(352),V=(a(73),a(120)),q=(a(94),a(95),a(123));function Q(){return r.a.createElement(O.a.Control.Feedback,{type:"invalid"},"Wprowad\u017a liczb\u0119 punkt\xf3w")}function U(){return r.a.createElement(O.a.Control.Feedback,{type:"invalid"},"Remis niedozwolony")}var X=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onSetChange=a.onSetChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"onSetChange",value:function(){this.setState({isDraw:this.props.firstTeamResult===this.props.secondTeamResult})}},{key:"render",value:function(){var e=this.props,t=e.creationAttempted,a=e.validationResult,n=e.setNumber,o=e.firstTeamResult,s=e.secondTeamResult,c=e.onSetChange,i=t&&"firstTeamResultMissing"===a,l=t&&"secondTeamResultMissing"===a,u=t&&"isADraw"===a;return r.a.createElement(O.a.Row,{key:n},r.a.createElement(O.a.Group,{as:G.a,md:1},r.a.createElement("h4",{key:n},n," set")),r.a.createElement(O.a.Group,{as:G.a,md:{span:2,offset:1}},r.a.createElement(O.a.Control,{as:"input",type:"text",value:_(o),onChange:function(e){return Y(e,c(n,"first-team"))},isInvalid:i||u}),i&&r.a.createElement(Q,null),u&&r.a.createElement(U,null)),r.a.createElement(O.a.Group,{as:G.a,md:{span:2,offset:1}},r.a.createElement("h5",{className:"text-center"},":")),r.a.createElement(O.a.Group,{as:G.a,md:{span:2,offset:1}},r.a.createElement(O.a.Control,{as:"input",type:"text",value:_(s),onChange:function(e){return Y(e,c(n,"second-team"))},isInvalid:l||u}),l&&r.a.createElement(Q,null)))}}]),t}(r.a.Component);function Y(e,t){var a=e.target.value;""===e.target.value?t(null):/^[0-9\b]+$/.test(a)&&t(parseInt(a))}function _(e){return 0===e?e:e||""}X.defaultProps={firstTeamResult:null,secondTeamResult:null,creationAttempted:!1};var ee=X;var te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onTeamSelected=a.onTeamSelected.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"onTeamSelected",value:function(e){var t=e.target.value;"Wybierz dru\u017cyn\u0119"!==t&&this.props.onTeamSelected(t)}},{key:"render",value:function(){var e=this.props,t=e.problem,a=e.teamSelected,n=e.onTeamSelected,o=e.allTeams;return r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Control,{as:"select",isInvalid:t,value:a||"Wybierz dru\u017cyn\u0119",onChange:function(e){return n(e.target.value)}},!a&&r.a.createElement("option",null,"Wybierz dru\u017cyn\u0119"),o.map(function(e){return r.a.createElement(ne,{key:e,teamName:e})})),t&&t.notSelected&&r.a.createElement(ae,null))}}]),t}(r.a.Component);function ae(){return r.a.createElement(O.a.Control.Feedback,{type:"invalid"},"Prosz\u0119 wybra\u0107 dru\u017cyn\u0119")}function ne(e){var t=e.teamName;return r.a.createElement("option",null,t)}te.defaultProps={teamSelected:"",onTeamSelected:function(){},allTeams:[],problems:{}};var re=te,oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={teamsSelection:[],sets:{},validationResults:{},selectionProblems:{}},a.firstTeamSelected=a.firstTeamSelected.bind(Object(h.a)(Object(h.a)(a))),a.secondTeamSelected=a.secondTeamSelected.bind(Object(h.a)(Object(h.a)(a))),a.onTeamSelected=a.onTeamSelected.bind(Object(h.a)(Object(h.a)(a))),a.teamSelectionFor=a.teamSelectionFor.bind(Object(h.a)(Object(h.a)(a))),a.sameItemSelected=a.sameItemSelected.bind(Object(h.a)(Object(h.a)(a))),a.onMatchAdded=a.onMatchAdded.bind(Object(h.a)(Object(h.a)(a))),a.onSetChanged=a.onSetChanged.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"onSetChanged",value:function(e,t){var a=this;return function(n){var r=Object.assign({},Object(i.a)({},a.state.sets[e],Object(q.a)({},t,n))),o=Object.assign({},Object(i.a)({},a.state.sets));o[e]=r,a.setState({sets:o})}}},{key:"onMatchAdded",value:function(){if(this.state.teamsSelection.length<2){var e=this.state.teamsSelection.find(function(e){return"first-team"===e.selectionId}),t=Object(i.a)({},this.state.selectionProblems);return e||(t["first-team"]={notSelected:!0}),this.state.teamsSelection.find(function(e){return"second-team"===e.selectionId})||(t["second-team"]={notSelected:!0}),void this.setState({selectionProblems:t})}var a=function(e){var t={};return Object.keys(e).forEach(function(a){var n=e[a];(n["first-team"]||n["second-team"])&&(n["first-team"]||(t[a]="firstTeamResultMissing"),n["second-team"]||(t[a]="secondTeamResultMissing"),n["first-team"]===n["second-team"]&&(t[a]="isADraw"))}),t}(this.state.sets);if(Object.keys(a).length>0)this.setState({validationResults:a,creationAttempted:!0});else{var n=this.state.teamsSelection[0].selectedTeam,r=this.state.teamsSelection[1].selectedTeam;this.props.onMatchAdded(n,r,this.state.sets),this.setState({sets:[],teamsSelection:[],creationAttempted:!1})}}},{key:"teamSelectionFor",value:function(e){var t=this.state.teamsSelection.find(function(t){return t.selectionId===e});return t?t.selectedTeam:""}},{key:"onTeamSelected",value:function(e){var t=this;return function(a){var n=t.state.teamsSelection.findIndex(function(e){return e.selectedTeam===a});if(-1!==n){var r=t.state.teamsSelection.find(function(t){return t.selectionId===e});if(!r)return;var o=t.state.teamsSelection[n],s=[{selectionId:e,selectedTeam:a},{selectionId:o.selectionId,selectedTeam:r.selectedTeam}];t.setState({teamsSelection:s,selectionProblems:{}})}else{var c={selectionId:e,selectedTeam:a},l=t.state.teamsSelection.filter(function(t){return t.selectionId!==e});l.push(c);var u=Object(i.a)({},t.state.selectionProblems);u[e]=null,t.setState({teamsSelection:l,selectionProblems:u})}}}},{key:"sameItemSelected",value:function(e,t){return this.state.teamsSelection[e].selectedTeam===t}},{key:"firstTeamSelected",value:function(e){this.setState({firstTeamSelected:e})}},{key:"secondTeamSelected",value:function(e){this.setState({secondTeamSelected:e})}},{key:"render",value:function(){var e=this,t=this.props.group;return r.a.createElement(O.a,null,r.a.createElement(O.a.Row,null,r.a.createElement(O.a.Group,{as:G.a,md:{span:4,offset:1}},r.a.createElement(re,{allTeams:t.teams,problem:this.state.selectionProblems["first-team"],teamSelected:this.teamSelectionFor("first-team"),onTeamSelected:this.onTeamSelected("first-team")})),r.a.createElement(G.a,{md:2},r.a.createElement("h3",{className:"text-center"},"vs")),r.a.createElement(O.a.Group,{as:G.a,md:4},r.a.createElement(re,{allTeams:t.teams,problem:this.state.selectionProblems["second-team"],teamSelected:this.teamSelectionFor("second-team"),onTeamSelected:this.onTeamSelected("second-team")}))),Array.from(new Array(5),function(e,t){return t+1}).map(function(t){return r.a.createElement(ee,{key:t,setNumber:t,firstTeam:"first-team",secondTeam:"second-team",creationAttempted:e.state.creationAttempted,firstTeamResult:e.state.sets[t]?e.state.sets[t]["first-team"]:null,secondTeamResult:e.state.sets[t]?e.state.sets[t]["second-team"]:null,onSetChange:e.onSetChanged,validationResult:e.state.validationResults[t]})}),r.a.createElement(A.a,{className:"mt-3"},r.a.createElement(G.a,null,r.a.createElement(S.a,{onClick:function(t){t.preventDefault(),e.onMatchAdded()},className:"float-right",type:"submit"},"Zatwierd\u017a mecz"))))}}]),t}(r.a.Component);function se(e){var t=Object.keys(e.sets).map(function(t){return e.sets[t]}),a=t.filter(function(e){return e["first-team"]>e["second-team"]}),n=t.filter(function(e){return e["first-team"]<e["second-team"]});if(t.filter(function(e){return e["first-team"]===e["second-team"]}).length>0)throw new Error("Encountered sets with draw!");var r=t.map(function(e){return e["first-team"]}).reduce(function(e,t){return e+t},0),o=t.map(function(e){return e["second-team"]}).reduce(function(e,t){return e+t},0),s=a.length,c=n.length;var l=s===c?{draw:!0}:s>c?{winner:e.firstTeam,looser:e.secondTeam}:{winner:e.secondTeam,looser:e.firstTeam};return Object(i.a)({firstTeamTotalPoints:r,secondTeamTotalPoints:o,firstTeamName:e.firstTeam,secondTeamName:e.secondTeam,firstTeamSetsWon:s,secondTeamSetsWon:c,firstTeamSetsLost:c,secondTeamSetsLost:s,sets:t},l)}function ce(e,t){return 0===e?null:t/e}function ie(e,t){return t.map(function(t){var a=e.filter(function(e){return e.firstTeam===t||e.secondTeam===t}).map(function(e){return se(e)}),n=a.filter(function(e){return e.winner===t}).length,r=a.filter(function(e){return e.looser===t}).length,o=a.filter(function(e){return!0===e.draw}).length,s=2*n+1*o,c=function(e,t){var a=t.map(function(e){return e.sets.length}).reduce(function(e,t){return e+t},0),n=t.map(function(t){return t.firstTeamName===e?t.firstTeamSetsWon:t.secondTeamSetsWon}),r=t.map(function(t){return t.firstTeamName===e?t.firstTeamTotalPoints:t.secondTeamTotalPoints}).reduce(function(e,t){return e+t},0),o=t.map(function(t){return t.firstTeamName===e?t.secondTeamTotalPoints:t.firstTeamTotalPoints}).reduce(function(e,t){return e+t},0),s=n.reduce(function(e,t){return e+t},0),c=a-s,i=ce(c,s);return{teamName:e,setsWon:s,setsLost:c,setsRatio:i,pointsWon:r,pointsLost:o,pointsRatio:ce(o,r)}}(t,a);return{team:t,matchPoints:s,matchesPlayed:a.length,matchesWon:n,matchesLost:r,matchesDraw:o,setsWon:c.setsWon,setsLost:c.setsLost,setsRatio:c.setsRatio,pointsWon:c.pointsWon,pointsLost:c.pointsLost,pointsRatio:c.pointsRatio}})}a(198);var le=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.matches,a=e.removeMatch;return t.map(function(e){return r.a.createElement(ue,{key:e.id,firstTeam:e.firstTeam,secondTeam:e.secondTeam,match:e,removeMatch:a})})}}]),t}(r.a.Component);function ue(e){var t=e.firstTeam,a=e.secondTeam,n=e.match,o=e.removeMatch,s=se(n);return r.a.createElement(A.a,null,r.a.createElement(G.a,{md:4},r.a.createElement("div",{className:"text-center"},t," vs ",a)),r.a.createElement(G.a,{md:1},r.a.createElement("div",{className:"text-center"},r.a.createElement("b",null,s.firstTeamSetsWon," : ",s.secondTeamSetsWon))),r.a.createElement(G.a,{md:4},r.a.createElement("div",{className:"text-center"},function(e){if(!e||0===e.length)return;return"("+e.map(function(e){return e["first-team"]+":"+e["second-team"]}).join(", ")+")"}(s.sets))),r.a.createElement(G.a,{md:3},r.a.createElement("div",{className:"float-right"},r.a.createElement(D.b,{style:{color:"#b21f2d"},onClick:function(){return o(n.id)}}))))}le.defaultProps={matches:[],removeMatch:function(){}};var me=le,de=a(242),pe=(a(332),{suppressDragLeaveHidesColumns:!0,suppressMovableColumns:!0,suppressLoadingOverlay:!0,suppressNoRowsOverlay:!0,columnDefs:[{headerName:"Dru\u017cyna",field:"team",width:350,cellClass:"cell-wrap-text",autoHeight:!0},{headerName:"Punkty",field:"matchPoints",width:200},{groupId:1,headerName:"Mecze",marryChildren:!0,children:[{headerName:"Rozegr.",field:"matchesPlayed"},{headerName:"Wygr.",field:"matchesWon"},{headerName:"Przegr.",field:"matchesLost"},{headerName:"Remis",field:"matchesDraw"}]},{groupId:2,headerName:"Sety",suppressMovable:!0,marryChildren:!0,children:[{headerName:"Wygr.",field:"setsWon"},{headerName:"Przegr.",field:"setsLost"},{headerName:"Stos.",field:"setsRatio",valueFormatter:he}]},{groupId:3,headerName:"Punkty",suppressMovable:!0,lockPosition:!0,children:[{headerName:"Wygr.",field:"pointsWon"},{headerName:"Przegr.",field:"pointsLost"},{headerName:"Stos.",field:"pointsRatio",valueFormatter:he}]}]});function he(e){return 0===e.value||e.value?parseFloat(e.value).toFixed(2):"-"}var fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onGridReady=function(e){e.api.sizeColumnsToFit()},a.onGridReady=a.onGridReady.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=function(e){return e.sort(function(e,t){if(e.matchPoints>t.matchPoints)return-1;if(e.matchPoints<t.matchPoints)return 1;if(!e.setsRatio||!t.setsRatio){if(!e.setsRatio&&t.setsRatio)return-1;if(e.setsRatio&&!t.setsRatio)return 1}return e.setsRatio>t.setsRatio?-1:e.setsRatio<t.setsRatio?1:e.pointsRatio>t.pointsRatio?-1:(e.pointsRatio,t.pointsRatio,1)})}(ie(e.matches,e.teams));return r.a.createElement("div",{className:"ag-theme-balham"},r.a.createElement("div",{style:{overflow:"auto"}},r.a.createElement(de.AgGridReact,{onGridReady:this.onGridReady,gridOptions:pe,rowData:t})))}}]),t}(r.a.Component),be=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={accordion:!0,activeKey:["0","1","2"]},a.onChange=function(e){a.setState({activeKey:e})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.group,a=this.state.activeKey;return r.a.createElement("div",null,r.a.createElement(V.b,{accordion:!1,onChange:this.onChange,activeKey:a},r.a.createElement(V.a,{header:"Tabela"},r.a.createElement(fe,{matches:t.matches,teams:t.teams})),r.a.createElement(V.a,{header:"Mecze"},r.a.createElement(me,{matches:t.matches,removeMatch:function(a){return e.props.removeMatch(t.groupLetter,a)}})),r.a.createElement(V.a,{header:"Wprowad\u017a mecz"},r.a.createElement("div",null,r.a.createElement(oe,{group:this.props.group,onMatchAdded:function(a,n,r){return e.props.onMatchAdded(t.groupLetter,a,n,r)}})))))}}]),t}(r.a.Component),ve=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.saveTourneyState,a=e.groupChosen,r=e.tourneyName,o=e.group,s=e.groups;return n.createElement("div",null,n.createElement(A.a,null,n.createElement(G.a,{md:{span:8}},n.createElement(K,{tourneyName:r}))),n.createElement(A.a,null,n.createElement(G.a,null,n.createElement(H.a,{bg:"primary",variant:"dark",onSelect:a},n.createElement($.a,{className:"mr-auto"},n.createElement(ye,{activeGroup:o.groupLetter,groups:s})),n.createElement(O.a,{inline:!0},n.createElement(S.a,{onClick:t,variant:"outline-light"},"Zapisz turniej"))))),n.createElement(A.a,null,n.createElement(G.a,{md:12,className:"mb-3"},n.createElement(be,{group:o,onMatchAdded:this.props.onMatchAdded,removeMatch:this.props.removeMatch}))))}}]),t}(n.Component);function ye(e){var t=e.activeGroup;return e.groups.map(function(e){return n.createElement($.a.Link,{eventKey:e.groupLetter,className:e.groupLetter===t&&"border border-white rounded",key:e.groupLetter,active:e.groupLetter===t},"Grupa ",e.groupLetter)})}ve.defaultProps={groups:[],tourneyName:"Nazwa turnieju",group:{},groupChosen:function(){},removeMatch:function(){}};var je=ve,ge=a(245),Ee=a(246),Oe=a.n(Ee),Te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).addGroup=a.addGroup.bind(Object(h.a)(Object(h.a)(a))),a.pickTourneyName=a.pickTourneyName.bind(Object(h.a)(Object(h.a)(a))),a.addTeam=a.addTeam.bind(Object(h.a)(Object(h.a)(a))),a.approveGroups=a.approveGroups.bind(Object(h.a)(Object(h.a)(a))),a.groupChosen=a.groupChosen.bind(Object(h.a)(Object(h.a)(a))),a.onMatchAdded=a.onMatchAdded.bind(Object(h.a)(Object(h.a)(a))),a.saveTourneyState=a.saveTourneyState.bind(Object(h.a)(Object(h.a)(a))),a.loadTourneyState=a.loadTourneyState.bind(Object(h.a)(Object(h.a)(a))),a.redirectToGroups=a.redirectToGroups.bind(Object(h.a)(Object(h.a)(a))),a.proceedToState=a.proceedToState.bind(Object(h.a)(Object(h.a)(a))),a.removeMatch=a.removeMatch.bind(Object(h.a)(Object(h.a)(a))),a.state={groups:[{groupLetter:"A",teams:[],matches:[]}],currentlyDisplayedGroup:"A"},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"loadTourneyState",value:function(e){var t=this;return function(a){t.setState(JSON.parse(a)),t.proceedToState(e)}}},{key:"saveTourneyState",value:function(){var e=new Blob([JSON.stringify(this.state)],{type:"text/plain;charset=utf-8"}),t="".concat(this.state.tourneyName?this.state.tourneyName:"tourney",".txt");Object(ge.saveAs)(e,t)}},{key:"removeMatch",value:function(e,t){var a=this.state.groups.find(function(t){return t.groupLetter===e}),n=a.matches.filter(function(e){return e.id!==t}),r=Object(i.a)({},a,{matches:n}),o=this.state.groups.slice(),s=o.findIndex(function(t){return t.groupLetter===e});o[s]=r,this.setState({groups:o})}},{key:"onMatchAdded",value:function(e,t,a,n){var r=this.state.groups,o=r.findIndex(function(t){return t.groupLetter===e}),s=r[o];if(s.teams.includes(t)&&s.teams.includes(a)){var l=s.matches.slice();l.push({firstTeam:t,secondTeam:a,sets:n,id:Oe()()});var u=[].concat(Object(c.a)(r.slice(0,o)),[Object(i.a)({},s,{matches:l})],Object(c.a)(r.slice(o+1)));this.setState({groups:u})}}},{key:"groupChosen",value:function(e){this.setState({currentlyDisplayedGroup:e})}},{key:"addGroup",value:function(){var e=this.state.groups.map(function(e){return e.groupLetter}).slice().pop(),t=String.fromCharCode(e.charCodeAt(0)+1),a=[].concat(Object(c.a)(this.state.groups),[{groupLetter:t,teams:[],matches:[]}]);this.setState({groups:a})}},{key:"addTeam",value:function(e,t){var a=this.state.groups.find(Se(e)),n=a.teams.slice();n.push(t);var r=Object(i.a)({},a,{teams:n}),o=this.state.groups.slice(),s=o.findIndex(Se(e));o[s]=r,this.setState({groups:o})}},{key:"approveGroups",value:function(e){var t=this;return function(){return t.proceedToState(e)}}},{key:"proceedToState",value:function(e){e.push("/tourney/state")}},{key:"pickTourneyName",value:function(e){this.setState({tourneyName:e})}},{key:"createTourneyAndRedirect",value:function(e){var t=this;return function(a){t.pickTourneyName(a),t.redirectToGroups(e)}}},{key:"redirectToGroups",value:function(e){e.push("/tourney/groups")}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,{history:g},r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement(v.a,{path:"/tourney/new",render:function(t){return r.a.createElement(ke,{createNewTourney:e.createTourneyAndRedirect(g)})}}),r.a.createElement(v.a,{path:"/tourney/load",render:function(t){return r.a.createElement(Ne,{loadTourney:e.loadTourneyState(g)})}}),r.a.createElement(v.a,{path:"/tourney/groups",render:function(t){return r.a.createElement(Z,{addGroup:e.addGroup,tourneyName:e.state.tourneyName,groups:e.state.groups,teamAdded:e.addTeam,approveGroups:e.approveGroups(g)})}}),r.a.createElement(v.a,{path:"/tourney/state",render:function(t){return r.a.createElement(Ce,{saveTourneyState:e.saveTourneyState,groups:e.state.groups.map(function(e){return Object.assign({},{groupLetter:e.groupLetter})}),group:e.state.groups.find(function(t){return t.groupLetter===e.state.currentlyDisplayedGroup}),tourneyName:e.state.tourneyName,groupChosen:e.groupChosen,onMatchAdded:e.onMatchAdded,removeMatch:e.removeMatch})}}),r.a.createElement(v.a,{path:"/",component:I({Content:R})}),r.a.createElement(y.a,{from:"*",to:"/"}))))}}]),t}(r.a.Component);function Se(e){return function(t){return t.groupLetter===e}}var ke=I({Content:z}),Ce=I({Content:je},12,0),Ne=I({Content:C},12,0),we=Te;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(347);s.a.render(r.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[248,2,1]]]);
//# sourceMappingURL=main.057900ec.chunk.js.map