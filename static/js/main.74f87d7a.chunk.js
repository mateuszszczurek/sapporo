(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{246:function(e,t,a){e.exports=a(371)},251:function(e,t,a){},253:function(e,t,a){},276:function(e,t,a){},371:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),c=a.n(o),s=(a(251),a(100)),l=a(270),u=a(22),i=a(23),m=a(26),d=a(24),p=a(25),h=a(9),b=(a(253),a(97)),f=a(244),y=a(126),v=a(243),E=a(27),g=Object(E.a)(),j=a(271),O=a(241),T=a(256),S=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.createElement("form",{style:k},n.createElement("h2",{className:"border-bottom mb-3"},"Wczytaj istniej\u0105cy turniej"),n.createElement(O.a.Group,{controlId:"formBasicText"},n.createElement(C,{id:"formControlsFile",type:"file",label:"Wybierz plik z zapisanym turniejem"})))}}]),t}(n.Component),k={border:"thin black solid",padding:"20px"};function C(e){var t=e.id,a=e.label,r=Object(j.a)(e,["id","label"]);return n.createElement(O.a.Group,{controlId:t},n.createElement(O.a.Label,null,a),n.createElement(T.a,r))}var N=S,w=a(372),A=a(98),G=a(257),L=function(){return n.createElement(w.a,{className:"d-flex"},n.createElement(G.LinkContainer,{to:"/tourney/new"},n.createElement(A.a,{variant:"primary"},"Swt\xf3rz nowy turniej")),n.createElement(G.LinkContainer,{to:"/tourney/load"},n.createElement(A.a,{variant:"primary"},"Wczytaj turniej")))},z=a(373),M=a(189),I=a(187),x={paddingBottom:"9px",margin:"40px 0 20px",borderBottom:"1px solid #eee"},R=function(){return n.createElement("div",{style:x},n.createElement("h1",null,"Volleyball Tournament App"))};var W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=e.Content;return function(e){function o(){return Object(u.a)(this,o),Object(m.a)(this,Object(d.a)(o).apply(this,arguments))}return Object(p.a)(o,e),Object(i.a)(o,[{key:"render",value:function(){return r.a.createElement(z.a,null,r.a.createElement(M.a,null,r.a.createElement(I.a,{md:{span:8,offset:2}},r.a.createElement(R,null))),r.a.createElement(M.a,null,r.a.createElement(I.a,{md:{span:t,offset:a}},r.a.createElement(n,this.props))))}}]),o}(r.a.Component)},P=function(e){function t(e,a){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).handleChange=n.handleChange.bind(Object(h.a)(Object(h.a)(n))),n.handleTourneyCreation=n.handleTourneyCreation.bind(Object(h.a)(Object(h.a)(n))),n.state={value:""},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleTourneyCreation",value:function(){var e=this;return function(t){t.preventDefault(),e.state.value&&e.state.value.trim()&&e.props.createNewTourney(e.state.value)}}},{key:"render",value:function(){return n.createElement("form",{style:D,onSubmit:this.handleTourneyCreation()},n.createElement("h2",null,"Stw\xf3rz nowy turniej"),n.createElement(O.a.Group,{controlId:"formBasicText"},n.createElement(O.a.Label,null,"Podaj nazw\u0119 turniej"),n.createElement(O.a.Control,{type:"text",value:this.state.value,placeholder:"Ma\u0142opolski turniej siatk\xf3wki amatorskiej ",onChange:this.handleChange})),n.createElement(A.a,{type:"submit"},"Stw\xf3rz"))}}]),t}(n.Component),D={border:"thin black solid",padding:"20px"},B=P,F=a(255),K=(a(276),a(139)),Z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).addTeam=a.addTeam.bind(Object(h.a)(Object(h.a)(a))),a.newTeamNameChange=a.newTeamNameChange.bind(Object(h.a)(Object(h.a)(a))),a.teamAdded=a.teamAdded.bind(Object(h.a)(Object(h.a)(a))),a.newTeamOnEnter=a.newTeamOnEnter.bind(Object(h.a)(Object(h.a)(a))),a.state={newTeamName:"",teamNameWarning:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"newTeamNameChange",value:function(e){this.setState({newTeamName:e.target.value})}},{key:"teamAdded",value:function(){var e=this.state.newTeamName;e&&0!==e.trim().length&&(this.props.teams.includes(e)||(this.props.teamAdded(this.props.groupLetter,this.state.newTeamName),this.setState({newTeamName:""})))}},{key:"newTeamOnEnter",value:function(e){"Enter"===e.key&&(e.preventDefault(),this.teamAdded())}},{key:"addTeam",value:function(){return n.createElement("div",null,n.createElement(T.a,{value:this.state.newTeamName,className:"mb-2",key:"newItem",onChange:this.newTeamNameChange,onKeyPress:this.newTeamOnEnter}),n.createElement(A.a,{onClick:this.teamAdded},n.createElement(K.a,null),n.createElement("span",null,"Dodaj dru\u017cyn\u0119")))}},{key:"render",value:function(){var e=this.props,t=e.groupLetter,a=e.teams,r=e.teamAdded;return n.createElement("div",null,n.createElement("h2",null,t),n.createElement(O.a,null,n.createElement(F.a,{controlId:t},function(e){return e.map(function(e){return function(e){return n.createElement(T.a,{readOnly:!0,style:{marginBottom:"10px"},key:e,value:e})}(e)})}(a),a&&a.length<8&&this.addTeam(t,r))))}}]),t}(n.Component);Z.defaultProps={groupLetter:"A",groups:[],teamAdded:function(){return null}};var J=Z;var H=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).approveGroups=a.approveGroups.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"approveGroups",value:function(){this.props.approveGroups()}},{key:"render",value:function(){var e,t=this.props,a=t.groups,n=t.teamAdded,o=t.tourneyName,c=a.length;return r.a.createElement(z.a,null,r.a.createElement(M.a,null,r.a.createElement(I.a,{md:{span:8,offset:2}},r.a.createElement(R,null))),r.a.createElement(M.a,null,r.a.createElement(I.a,{md:{span:8}},r.a.createElement("h3",{className:"pb-3"},'Turniej "',o,'"'))),r.a.createElement(M.a,null,function(e,t){return e.map(function(e){return r.a.createElement(I.a,{key:e.groupLetter,sm:3},r.a.createElement(J,{groupLetter:e.groupLetter,teams:e.teams,teamAdded:t}))})}(a,n),c<8&&(e=this.props.addGroup,r.a.createElement(I.a,{sm:3},r.a.createElement(A.a,{className:"mb-3",onClick:e},r.a.createElement(K.a,null),r.a.createElement("span",null,"Dodaj grup\u0119"))))),r.a.createElement(M.a,null,r.a.createElement(I.a,{md:3},r.a.createElement(A.a,{block:!0,onClick:this.approveGroups},"Zatwierd\u017a grupy"))))}}]),t}(r.a.Component);J.defaultProps={tourneyName:"Turniej",groups:[],addGroup:function(){return null},approveGroups:function(){return null}};var V=H,$=a(375),q=a(374),Q=(a(140),a(102)),U=a(265),X=(a(181),a(182),a(129)),Y=a(103),_=function(e){function t(e){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.teamSelected,a=e.onTeamSelected,n=e.allTeams;return r.a.createElement(Y.a,{onSelect:a},r.a.createElement(Y.a.Toggle,{className:"w-100"},t||"Wybierz dru\u017cyn\u0119"),r.a.createElement(Y.a.Menu,{className:"w-100"},n.map(function(e){return function(e){return r.a.createElement(Y.a.Item,{key:e,eventKey:e},e)}(e)})))}}]),t}(r.a.Component);_.defaultProps={teamSelected:null,onTeamSelected:function(){},allTeams:[]};var ee=_;function te(e){var t=e.setNumber,a=e.firstTeamResult,n=e.secondTeamResult,o=e.onSetChange;return r.a.createElement(M.a,{key:t,className:"mb-1"},r.a.createElement(I.a,{md:1},r.a.createElement("h4",{key:t},t," set")),r.a.createElement(I.a,{md:{span:2,offset:1}},r.a.createElement(O.a.Control,{as:"input",type:"text",value:a||"",onChange:o(t,"first-team")})),r.a.createElement(I.a,{md:{span:2,offset:1}},r.a.createElement("h5",{className:"text-center"},":")),r.a.createElement(I.a,{md:{span:2,offset:1}},r.a.createElement(O.a.Control,{as:"input",type:"text",value:n||"",onChange:o(t,"second-team")})))}var ae=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={teamsSelection:[],sets:{}},a.firstTeamSelected=a.firstTeamSelected.bind(Object(h.a)(Object(h.a)(a))),a.secondTeamSelected=a.secondTeamSelected.bind(Object(h.a)(Object(h.a)(a))),a.onTeamSelected=a.onTeamSelected.bind(Object(h.a)(Object(h.a)(a))),a.teamSelectionFor=a.teamSelectionFor.bind(Object(h.a)(Object(h.a)(a))),a.sameItemSelected=a.sameItemSelected.bind(Object(h.a)(Object(h.a)(a))),a.onMatchAdded=a.onMatchAdded.bind(Object(h.a)(Object(h.a)(a))),a.onSetChanged=a.onSetChanged.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"onSetChanged",value:function(e,t){var a=this;return function(n){var r=Object.assign({},Object(s.a)({},a.state.sets[e],Object(X.a)({selectionId:t},t,n.target.value))),o=Object.assign({},Object(s.a)({},a.state.sets));o[e]=r,console.log(o),a.setState({sets:o})}}},{key:"onMatchAdded",value:function(){if(this.state.teamsSelection.length<=2)alert("tried to store result without choosing team");else{var e=this.state.teamsSelection[0].selectedTeam,t=this.state.teamsSelection[1].selectedTeam;this.props.onMatchAdded(e,t,[])}}},{key:"teamSelectionFor",value:function(e){var t=this.state.teamsSelection.find(function(t){return t.selectionId===e});return t?t.selectedTeam:""}},{key:"onTeamSelected",value:function(e){var t=this;return function(a){if(-1===t.state.teamsSelection.findIndex(function(e){return e.selectedTeam===a})){var n={selectionId:e,selectedTeam:a},r=t.state.teamsSelection.filter(function(t){return t.selectionId!==e});r.push(n),t.setState({teamsSelection:r})}}}},{key:"sameItemSelected",value:function(e,t){return this.state.teamsSelection[e].selectedTeam===t}},{key:"firstTeamSelected",value:function(e){this.setState({firstTeamSelected:e})}},{key:"secondTeamSelected",value:function(e){this.setState({secondTeamSelected:e})}},{key:"render",value:function(){var e=this,t=this.props.group;return r.a.createElement("div",null,r.a.createElement(M.a,{className:"mb-2"},r.a.createElement(I.a,{md:{span:4,offset:1}},r.a.createElement(ee,{allTeams:t.teams,teamSelected:this.teamSelectionFor("first-team"),onTeamSelected:this.onTeamSelected("first-team")})),r.a.createElement(I.a,{md:2},r.a.createElement("h3",{className:"text-center"},"vs")),r.a.createElement(I.a,{md:4},r.a.createElement(ee,{allTeams:t.teams,teamSelected:this.teamSelectionFor("second-team"),onTeamSelected:this.onTeamSelected("second-team")}))),Array.from(new Array(5),function(e,t){return t+1}).map(function(t){return r.a.createElement(te,{key:t,setNumber:t,firstTeam:"first-team",secondTeam:"second-team",firstTeamResult:e.state.sets[t]?e.state.sets[t]["first-team"]:"",secondTeamResult:e.state.sets[t]?e.state.sets[t]["second-team"]:"",onSetChange:e.onSetChanged})}),r.a.createElement(M.a,{className:"mt-3"},r.a.createElement(I.a,null,r.a.createElement(A.a,{onClick:this.onMatchAdded,className:"float-right",type:"submit"},"Zatwierd\u017a mecz"))))}}]),t}(r.a.Component);var ne={suppressDragLeaveHidesColumns:!0,suppressMovableColumns:!0,enableSorting:!0,columnDefs:[{headerName:"Dru\u017cyna",field:"team",width:600,sortable:!0},{groupId:1,headerName:"Mecze",marryChildren:!0,sortable:!0,children:[{headerName:"Rozegr.",field:"matchesPlayed"},{headerName:"Wygr.",field:"matchesWon"},{headerName:"Przegr.",field:"matchesLost"}]},{groupId:2,headerName:"Sety",suppressMovable:!0,marryChildren:!0,sortable:!0,children:[{headerName:"Wygr.",field:"setsWon"},{headerName:"Przegr.",field:"setsLost"},{headerName:"Stosunek",field:"setsRatio"}]},{groupId:3,headerName:"Punkty",suppressMovable:!0,lockPosition:!0,sortable:!0,children:[{headerName:"Wygr.",field:"pointsWon"},{headerName:"Przegr.",field:"pointsLost"},{headerName:"Stosunek",field:"pointsRatio"}]}]},re=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={accordion:!0,activeKey:["0"]},a.onChange=function(e){a.setState({activeKey:e})},a.onGridReady=function(e){e.api.sizeColumnsToFit(),e.api.onSortChanged(a.aaa)},a.onGridReady=a.onGridReady.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.group,t=this.state.activeKey;return r.a.createElement(Q.b,{accordion:!1,onChange:this.onChange,activeKey:t},r.a.createElement(Q.a,{header:"Tabela"},r.a.createElement("div",{className:"ag-theme-balham"},r.a.createElement("div",null,r.a.createElement(U.AgGridReact,{onGridReady:this.onGridReady,gridOptions:ne,rowData:e.teams.map(function(e){return{team:e,matchesPlayed:1,matchesWon:2,matchesLost:3,setsWon:2,setsLost:3,setsRatio:.3,pointsWon:3,pointsLost:4,pointsRatio:.4}})})))),r.a.createElement(Q.a,{header:"Mecze"}),r.a.createElement(Q.a,{header:"Wprowad\u017a mecz"},r.a.createElement("div",null,r.a.createElement(ae,{group:this.props.group,onMatchAdded:this.props.onMatchAdded}))))}}]),t}(r.a.Component),oe=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.groupChosen,a=e.tourneyName,r=e.group,o=e.groups;return n.createElement("div",null,n.createElement(M.a,null,n.createElement(I.a,{md:{span:8}},n.createElement("h3",{className:"pb-3"},'Turniej "',a,'"'))),n.createElement(M.a,null,n.createElement(I.a,null,n.createElement($.a,{bg:"primary",variant:"dark",onSelect:t},n.createElement(q.a,{className:"mr-auto"},n.createElement(ce,{groups:o})),n.createElement(O.a,{inline:!0},n.createElement(A.a,{variant:"outline-light"},"Zapisz turniej"))))),n.createElement(M.a,null,n.createElement(I.a,{md:12,className:"mb-3"},n.createElement(re,{group:r,onMatchAdded:this.props.onMatchAdded}))))}}]),t}(n.Component);function ce(e){return e.groups.map(function(e){return n.createElement(q.a.Link,{eventKey:e.groupLetter,key:e.groupLetter},"Grupa ",e.groupLetter)})}oe.defaultProps={groups:[],tourneyName:"Nazwa turnieju",group:{},groupChosen:function(){}};var se=oe,le=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).addGroup=a.addGroup.bind(Object(h.a)(Object(h.a)(a))),a.pickTourneyName=a.pickTourneyName.bind(Object(h.a)(Object(h.a)(a))),a.addTeam=a.addTeam.bind(Object(h.a)(Object(h.a)(a))),a.approveGroups=a.approveGroups.bind(Object(h.a)(Object(h.a)(a))),a.groupChosen=a.groupChosen.bind(Object(h.a)(Object(h.a)(a))),a.onMatchAdded=a.onMatchAdded.bind(Object(h.a)(Object(h.a)(a))),a.state={groups:[{groupLetter:"A",teams:[]}],matches:[],currentlyDisplayedGroup:"A"},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"onMatchAdded",value:function(e,t,a){var n=this.state.matches.slice();n.push({firstTeam:e,secondTeam:t,sets:a}),this.setState({matches:n})}},{key:"groupChosen",value:function(e){this.setState({currentlyDisplayedGroup:e})}},{key:"addGroup",value:function(){var e=this.state.groups.map(function(e){return e.groupLetter}).slice().pop(),t=String.fromCharCode(e.charCodeAt(0)+1),a=[].concat(Object(l.a)(this.state.groups),[{groupLetter:t,teams:[]}]);this.setState({groups:a})}},{key:"addTeam",value:function(e,t){var a=this.state.groups.find(ue(e)),n=a.teams.slice();n.push(t);var r=Object(s.a)({},a,{teams:n}),o=this.state.groups.slice(),c=o.findIndex(ue(e));o[c]=r,this.setState({groups:o})}},{key:"approveGroups",value:function(e){return function(){e.push("/tourney/state")}}},{key:"pickTourneyName",value:function(e){this.setState({tourneyName:e})}},{key:"createTourneyAndRedirect",value:function(e){var t=this;return function(a){t.pickTourneyName(a),e.push("/tourney/groups")}}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,{history:g},r.a.createElement("div",null,r.a.createElement(f.a,null,r.a.createElement(y.a,{path:"/tourney/new",render:function(t){return r.a.createElement(ie,{createNewTourney:e.createTourneyAndRedirect(g)})}}),r.a.createElement(y.a,{path:"/tourney/load",component:W({Content:N})}),r.a.createElement(y.a,{path:"/tourney/groups",render:function(t){return r.a.createElement(V,{addGroup:e.addGroup,tourneyName:e.state.tourneyName,groups:e.state.groups,teamAdded:e.addTeam,approveGroups:e.approveGroups(g)})}}),r.a.createElement(y.a,{path:"/tourney/state",render:function(t){return r.a.createElement(me,{groups:e.state.groups.map(function(e){return Object.assign({},{groupLetter:e.groupLetter})}),group:e.state.groups.find(function(t){return t.groupLetter===e.state.currentlyDisplayedGroup}),tourneyName:e.state.tourneyName,groupChosen:e.groupChosen,onMatchAdded:e.onMatchAdded})}}),r.a.createElement(y.a,{path:"/",component:W({Content:L})}),r.a.createElement(v.a,{from:"*",to:"/"}))))}}]),t}(n.Component);function ue(e){return function(t){return t.groupLetter===e}}var ie=W({Content:B}),me=W({Content:se},12,0),de=le;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(369);c.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[246,2,1]]]);
//# sourceMappingURL=main.74f87d7a.chunk.js.map